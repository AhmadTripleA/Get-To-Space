[gd_scene load_steps=12 format=3 uid="uid://iyceefjwx0dt"]

[ext_resource type="PackedScene" uid="uid://c8sy8a8p18r5n" path="res://Scenes/player.tscn" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://bdwjkketqdfob" path="res://Code/Managers/CameraController.cs" id="2_kek77"]
[ext_resource type="Script" uid="uid://dfmy3j03g6721" path="res://Code/UI/BuildMenu.cs" id="4_1bvp3"]
[ext_resource type="Script" uid="uid://bg0gapyx0pioo" path="res://Code/Managers/BuildingManager.cs" id="4_5vw27"]
[ext_resource type="PackedScene" uid="uid://ktjg7djaa2wg" path="res://Scenes/texture_button.tscn" id="5_lquwl"]
[ext_resource type="Script" uid="uid://wmwwd44ufhyy" path="res://Code/Managers/GameManager.cs" id="6_4c57u"]
[ext_resource type="Script" uid="uid://b3n80o1uequ0s" path="res://Code/Managers/InputManager.cs" id="6_kek77"]
[ext_resource type="Material" uid="uid://lfuqpstgf8l1" path="res://Assets/Materials/previewMaterial.tres" id="7_5vw27"]
[ext_resource type="Script" uid="uid://cmb0mxnsxotf1" path="res://Code/UI/CraftMenu.cs" id="7_kek77"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ig7tw"]
size = Vector3(31.4346, 1, 28.7737)

[sub_resource type="BoxMesh" id="BoxMesh_ig7tw"]

[node name="root" type="Node"]
script = ExtResource("6_4c57u")

[node name="Env" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.480076, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Env"]
shape = SubResource("BoxShape3D_ig7tw")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Env"]
transform = Transform3D(32.1358, 0, 0, 0, 1, 0, 0, 0, 31.1066, 0, 0, 0)
mesh = SubResource("BoxMesh_ig7tw")
skeleton = NodePath("../CollisionShape3D")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.80997, -0.32506, 0.488144, 2.80082e-08, 0.832341, 0.554263, -0.586471, -0.448937, 0.674171, 0, 0, 0)

[node name="Player" parent="." instance=ExtResource("1_ig7tw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0210257, 2.52834, -0.0384884)
MoveSpeed = 7.0
RotationSpeed = 12.0

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("Target")]
transform = Transform3D(1, 0, 0, 0, 0.705674, 0.708537, 0, -0.708537, 0.705674, 0, 8.09526, 10.0842)
fov = 60.0
script = ExtResource("2_kek77")
Target = NodePath("../Player")
Offset = Vector3(0, 7, 6)

[node name="Config" type="Node" parent="."]

[node name="Building Manager" type="Node3D" parent="Config"]
script = ExtResource("4_5vw27")
PreviewMaterial = ExtResource("7_5vw27")

[node name="Input Manager" type="Node" parent="Config"]
script = ExtResource("6_kek77")

[node name="Craft Menu" type="Control" parent="." node_paths=PackedStringArray("GridContainer", "MenuToggleButton")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 32.0
offset_top = 272.0
offset_right = -536.0
offset_bottom = -40.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("7_kek77")
GridContainer = NodePath("BG/recipeGridContainer")
ItemButtonPrefab = ExtResource("5_lquwl")
MenuToggleButton = NodePath("../UI/Toggle Craft")

[node name="BG" type="PanelContainer" parent="Craft Menu"]
custom_minimum_size = Vector2(50, 100)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(150, 300)

[node name="recipeGridContainer" type="GridContainer" parent="Craft Menu/BG"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
columns = 2

[node name="Build Menu" type="Control" parent="." node_paths=PackedStringArray("GridContainer", "MenuToggleButton")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 792.0
offset_top = 32.0
offset_right = -32.0
offset_bottom = -40.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_1bvp3")
GridContainer = NodePath("BG/itemGridContainer")
ItemButtonPrefab = ExtResource("5_lquwl")
MenuToggleButton = NodePath("../UI/Toggle Build")

[node name="BG" type="PanelContainer" parent="Build Menu"]
custom_minimum_size = Vector2(50, 100)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(150, 300)

[node name="itemGridContainer" type="GridContainer" parent="Build Menu/BG"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
columns = 2

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 32.0
offset_top = 24.0
offset_right = -976.0
offset_bottom = -472.0
grow_horizontal = 2
grow_vertical = 2

[node name="Toggle Build" type="Button" parent="UI"]
offset_left = 8.0
offset_top = 8.0
offset_right = 136.0
offset_bottom = 72.0
text = "Build"

[node name="Toggle Craft" type="Button" parent="UI"]
offset_left = 8.0
offset_top = 80.0
offset_right = 136.0
offset_bottom = 144.0
text = "Craft"
